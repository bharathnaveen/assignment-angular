<div class="container">
  <img src="../assets/images/cognizant-logo.png" width="270px" />
  <hr />
  <h4>Upload only .csv format file</h4>
  <form>
    <div class="form-group">
      <input
        type="file"
        name="files"
        class="form-control col-md-3"
        #uploads
        (change)="uploadFile(uploads.files)"
        accept=".csv"
      />
    </div>
  </form>
  <div class="table-align" *ngIf="dataList">
    <label>Filter By Issue Count</label>
    <div class="form-group">
      <input
        type="text"
        class="form-control col-md-3"
        [(ngModel)]="issueCount"
      />
    </div>
    <table class="table table-hover">
      <thead class="thead-dark">
        <tr>
          <th *ngFor="let header of (dataList[0] | keys)">{{ header }}</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of (dataList | filterByIssueCount: issueCount)">
          <td *ngFor="let list of (data | keys)">
            <span *ngIf="list != 'Date of birth'"> {{ data[list] }}</span>
            <span *ngIf="list == 'Date of birth'">{{ data[list] | date: "dd-MM-yyyy" }}</span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<router-outlet></router-outlet>
